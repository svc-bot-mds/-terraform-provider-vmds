---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vmds_cluster Resource - vmds"
subcategory: ""
description: |-
  Represents a service instance or cluster. Some attributes are used only once for creation, they are: dedicated, network_policy_ids.
  Changing only tags is supported at the moment. If you wish to update network policies associated with it, please refer resource: vmds_cluster_network_policies_association.
---

# vmds_cluster (Resource)

Represents a service instance or cluster. Some attributes are used only once for creation, they are: `dedicated`, `network_policy_ids`.
Changing only `tags` is supported at the moment. If you wish to update network policies associated with it, please refer resource: `vmds_cluster_network_policies_association`.

## Example Usage

```terraform
resource "vmds_cluster" "example" {
  name               = "test-terraform"
  cloud_provider = "aws"
  service_type       = "RABBITMQ"
  instance_size      = "XX-SMALL"
  region             = "eu-west-1"
  network_policy_ids = ["policy id"]
  tags               = ["mds-tf", "example"]
  dedicated = false
  shared = false

  // if cluster getting self hosted via byoc
  data_plane_id = "dataplane id"
  // non editable fields
  lifecycle {
    ignore_changes = [instance_size, name, cloud_provider, region, service_type]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cloud_provider` (String) Short-code of provider to use for data-plane. Ex: `aws`, `gcp` .
- `instance_size` (String) Size of instance. Supported values are: `XX-SMALL`, `X-SMALL`, `SMALL`, `LARGE`, `XX-LARGE`.
Please make use of datasource `vmds_network_ports` to decide on a size based on resources it requires.
- `name` (String) Name of the cluster.
- `network_policy_ids` (Set of String) IDs of network policies to attach to the cluster.
- `region` (String) Region of data plane. Ex: `eu-west-2`, `us-east-2` etc.

### Optional

- `data_plane_id` (String) ID of the data-plane where the cluster is running. It's a required field when we create a cluster which is self-hosted via BYO Cloud
- `dedicated` (Boolean) If present and set to `true`, the cluster will get deployed on a dedicated data-plane in current Org.
- `service_type` (String) Type of MDS Cluster to be created. Supported values: `RABBITMQ` .
 Default is `RABBITMQ`.
- `shared` (Boolean) If present and set to `true`, the cluster will get deployed on a shared data-plane in current Org.
- `tags` (Set of String) Set of tags or labels to categorise the cluster.

### Read-Only

- `created` (String) Creation time of the cluster.
- `id` (String) ID of the cluster.
- `last_updated` (String) Time when the cluster was last modified.
- `metadata` (Attributes) Additional info of the cluster. (see [below for nested schema](#nestedatt--metadata))
- `org_id` (String) ID of the Org which owns the cluster.
- `status` (String) Status of the cluster.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `connection_uri` (String) Connection URI to the instance. Specific to `RABBITMQ` service.
- `manager_uri` (String) URI of the manager. Specific to `RABBITMQ` service.
- `metrics_endpoints` (List of String) List of metrics endpoints exposed on the instance. Specific to `RABBITMQ` service.

## Import

Import is supported using the following syntax:

```shell
# Cluster can be imported by specifying the alphanumeric identifier.
terraform import vmds_cluster.example s546dg29fh2ksh3dfr
```
